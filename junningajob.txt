#!/bin/bash
#SBATCH --account=def-simine
#SBATCH --cpus-per-task=4
#SBATCH --gres=gpu:v100:1
#SBATCH --mem=16G
#SBATCH --time=0-60:00
#SBATCH --mail-user=siba.moussa@mail.mcgill.ca
#SBATCH --mail-type=END
#SBATCH --array=0
module load python/3.7
virtualenv --no-download $SLURM_TMPDIR/env
source $SLURM_TMPDIR/env/bin/activate
pip install --no-index --upgrade pip
pip install --no-index -r requirements_beluga.txt
pip install comet_ml
pip install pyyaml
pip install torch
pip install sklearn
pip install tqdm
pip install ~/projects/def-simine/programs/activelearningwheels/seqfold-0.7.7-py3-none-any.whl
pip install ~/projects/def-simine/programs/activelearningwheels/nupack-4.0.0.23-cp37-cp37m-linux_x86_64.whl
#or
pip install ~/projects/def-simine/programs/opendnaWheels/nupack-4.0.0.23-cp37-cp37m-linux_x86_64.whl
#pip install -e ~/projects/def-simine/programs/BBDOB
module load scipy-stack
export COMET_API_KEY="omEkHjEpCF0uMxO9zRQOhe6yF"
python gflownet.py --y gfndef.yml ---workdir='/lustre07/scratch/smoussa' --explicit_run_enumeration=True --run_num=777 --


python nupack_sampler.py --y config/defaults.yml --workdir='/lustre07/scratch/smoussa' --explicit_run_enumeration=True --run_num=777 --